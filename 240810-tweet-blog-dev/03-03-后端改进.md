### 解决帖子图片顺序无法控制的问题
在Post表添加 imagesOrder 字段，保存图片id数组json字符串
```
imagesOrder  String?
```

运行迁移命令以生成和应用迁移：
```
pnpm prisma migrate dev --name add-imagesOrder
`imagesOrder` 是一个可选字段（通过 `?` 标记），所以它不会对现有的数据造成影响，也不需要为现有的记录提供默认值。
为了使其之前数据库中的数据不受影响，前端判断得到的imagesOrder为null时，则以images本身为准
```

修改后端
```
在发送帖子、修改帖子时，保存图片id数组
```


### 状态管理改进
封装defineStoreSystem，更改save方法

### 优化项目结构
将项目业务相关的零散方法放在 `src/utils`，而将为了方便开发的封装放在 `src/helpers`

### 个人信息功能
- 头像
- 名称
- 简介
- 社交媒体
- 关于（markdown）
- 外链（友情链接/联系方式）

都保存存在json里
```
实现头像与其记录，需要当前头像标记，还需要一个数组
avatar avatarArray
avatar为uuid，前端据此在avatarArray中查找。找不到或avatar为null时，显示默认logo

名称，

要实现外链，需要有两个数组：
外链信息 externalLinks ，外链图标 externalIcons
```

后端新增profileSystem
```
类型，校验模型
默认值
```

图片处理
```
确认存储位置，在system/file中添加avatar与iconSystem，实现存储与删除，之后会由profileSystem调用
关于头像与外链图标，完全由前端进行压缩处理，后端不做处理
```

路由、接口新增
- 编写接口文档
- 编写表单校验schema
- 编写路由
- 编写服务函数
- 测试，完善接口文档
```
新增profile路由

profileGetAll 获取全部信息，包括profileStore信息，帖子、图片统计
profileGetData 帖子、图片统计
profileGetStore 获取profileStore信息

profileUpdateNameBio
profileUpdateAboutMd
profileUpdateSocialMedias

profileAddAvatar
profileDeleteAvatarByUuid
profileDeleteAvatarNotUsed
profileUpdateAvatar

profileAddExternalIcon
profileDeleteExternalIconByUuid
profileDeleteExternalIconNotUsed
profileUpdateExternalLinks

```



### hono托管静态文件 
https://stackoverflow.com/questions/77838482/how-to-serve-static-files-in-node-js-using-hono-js

https://hono.dev/docs/getting-started/nodejs#serve-static-files

https://www.npmjs.com/package/@hono/node-server

```
将后端路由路由都加上 /api
后端新建 /static 目录，存放前端
图片等还是存在 /data/public

将静态托管内容写在 src\routers\static.ts
```

配置托管与缓存，hono文档里不是到为什么没有getContent，但是是必要的
```ts
import { serveStatic } from 'hono/serve-static'
import fsp from 'fs/promises'

router.use('*', serveStatic({
  root: './static',
  getContent: async (path, c) => {
    try {
      const content = await fsp.readFile(path)
      return content
    } catch (error) {
      // console.error('Error reading file:', error)
      return null
    }
  },
  onFound: (_path, c) => {
    c.header('Cache-Control', 'public, immutable, max-age=31536000')
  }
}))

// src\index.ts
app.route('/', staticRouter)
```

改进
```ts
router.use('*', serveStatic({
  root: staticConfig.root,
  getContent: async (path, c) => {
    try {
      const content = await fsp.readFile(path)
      return content
    } catch (error) {
      return null
    }
  },
  onFound: (_path, c) => {
    staticConfig.settings.forEach(setting => {
      if (setting.pathReg.test(_path)) {
        setting.headers.forEach(header => {
          c.header(header.name, header.value)
        })
      }
    })
  }
}))
```