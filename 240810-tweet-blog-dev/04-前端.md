先修改完善一下以前自己整理的前端模板
- https://github.com/haruki1953/sakiko-utils-vue3/tree/682e24b674d16e6ed88b50e657db72d1c65052f1

新建前端 tweet-blog-vue3
- 下载自己原先的模板的 [Source code (zip)](https://github.com/haruki1953/sakiko-utils-vue3/archive/refs/tags/sakiko-vue3-frame-v0.1.1.zip) ，解压
- pnpm i 安装依赖，试运行，修改标题等基本内容
- 创建版本库，提交推送

vue代码在编辑器可能有报错，关闭Hybrid Mode即可（如果已经关闭就开启再关闭）

感觉vscode有卡顿的问题，可能对于vue前端这样复杂的项目来说，类型推断上限自己调的有点高了，调回160吧
- [让VScode浮窗显示完整的ts类型定义](笔记/让VScode浮窗显示完整的ts类型定义.md)
- 还是有问题，内存占用真是大，更新vscode吧，从1.85更新至了1.92。啊这，没有改善，好像还更严重了

## 前端开发计划
### 一期
- 首页，帖子
	- [x] 帖子分组处理【完成了一半】
	- [ ] 无限滚动
	- [ ] 帖子页面（显示回复）
	- [ ] 帖子删除，回收站
- 帖子发送
	- [x] 图片选择、上传
	- [x] 帖子信息设置【完成了一半】
	- [ ] 帖子回复
	- [ ] 帖子修改
- 相册功能，管理图片
	- [x] 无限滚动
	- [ ] 修改alt
	- [ ] 删除图片、原图
	- [ ] 删除全部（未引用）、原图
- 收藏功能【TODO】
- 管理功能，修改基本参数【TODO】


## 登录
```
整理http请求工具 `src\utils\http.ts`
创建stores auth
新建路由
```


## 基本的帖子功能
- 先写基本的样式
- 请求数据，整理数据
- 帖子发送弹窗样式
- 帖子发送逻辑

### 帖子页面布局
用自动外边距居中一个宽度，然后用栅格分为左大右小的两栏

### 首页帖子
使用 PostGroup 最为最基本的显示模块，其中包含多个PostCard。将一个帖子对象的数组传入 PostGroup 以显示多个帖子
- 分页数据处理
- 显示帖子 多组件完成
- 限制个数 无限滚动

#### 分页数据处理
创建 PostStore
```ts
// src\types\data.d.ts
export interface PostData extends Post {
  parentPost: PostBase | null
}

// src\stores\modules\post.ts
const postList = ref<PostData[][]>([])
```

请求 postGetByCursorApi 获取帖子数据

处理数据
- 转为 `PostInStore[][]` 这种格式
- 将其中符合条件的合并（等帖子发送做好后再调试更方便）

（先就这样显示）
![](assets/Pasted%20image%2020240823204041.png)


- 返回的帖子数据中，本应是日期的类型还是字符串，要处理一下
	- 不对，就应该是字符串，不然在store持久化存取时会有麻烦，应该用的时候再转为date

### 【TODO】
- 后端有个地方在打印空对象，要改一改
- 限制显示条数，无限滚动，请求数据
```
可以以一个数字10为基准进行限制
无图片的帖子记1，有图片的记2
```


### 帖子发送
编写一个新页面，来实现帖子发送，或许也能实现帖子修改
- 通过store，来控制其数据
- 在任何一个地方（首页、PostCard），都可以调用store来转到此页面，这样可以在跳转时设置更多的信息
```
双列布局

封装顶栏TopBar，返回、发送功能

图片上传
上传状态处理

帖子发送
设置日期（信息设置对话框）
图片大图查看
图片列表，选择图片
```

### 【TODO】
图片删除、设置alt


### 信息设置对话框
v-model 复习 https://cn.vuejs.org/guide/components/v-model



## 图片功能
### 图片大图查看
```
在layout中插入一个组件，绝对定位，遮罩
通过store控制其显示与隐藏
放弃，改为使用el-image自带的图片预览
```


### 相册页面
```
封装一个图片列表，显示store中的图片
两种模式：单选 与 多选，通过v-model控制选中的图片（数组）
单选给相册页面使用，多选主要供帖子发送页面使用

单选图片后，可以预览图片、操作图片
在大屏是在左侧显示操作框，小屏时弹出对话框
```

### 【TODO】
图片操作卡片、对话框