



## 管理系统

### 任务接口

**接口URL：** `/admin/task`  
**调用方式：** GET

**示例（curl）**

```sh
curl -X GET \
  http://127.0.0.1:3000/admin/task \
  -H 'Authorization: Bearer xxx'
```

返回响应

```ts
const data: {
    taskCache: {
        importTaskList: {
            uuid: string;
            startAt: string;
            totalCount: number;
            completedCount: number;
        }[];
    };
}
```

成功 200

```json

```





## 帖子相关操作接口

### 帖子导入

**接口URL：** `/post-control/import`  
**调用方式：** POST

Body 参数 （application/json）

```ts
export const postControlImportJsonSchema = z.object({
  importPosts: z.array(z.object({
    content: z.string().optional(),
    createdAt: z.coerce.date().optional(),
    importImages: z.array(z.object({
      link: z.string(),
      alt: z.string().optional(),
      platform: z.enum(platformKeyEnum).optional(),
      platformId: z.string().optional()
    })),
    // .max(postConfig.postMaxImages)
    platform: z.enum(platformKeyEnum).optional(),
    platformId: z.string().optional(),
    platformLink: z.string().optional(),
    platformParentId: z.string().nullable().optional(),
    isDeleted: z.boolean().optional()
  }))
})

type PostControlImportJsonType = {
    importPosts: {
        importImages: {
            link: string;
            alt?: string | undefined;
            platform?: "X" | undefined;
            platformId?: string | undefined;
        }[];
        content?: string | undefined;
        createdAt?: Date | undefined;
        platform?: "X" | undefined;
        platformId?: string | undefined;
        platformLink?: string | undefined;
        platformParentId?: string | null | undefined;
        isDeleted?: boolean | undefined;
    }[];
}
```



**示例（curl）**

```sh
curl -X POST \
  http://127.0.0.1:3000/post-control/import \
  -H 'Authorization: Bearer xxx'
```

返回响应

```ts
const data: {
    importTask: {
        uuid: string;
        startAt: string;
        totalCount: number;
        completedCount: number;
    };
    taskCache: {
        importTaskList: {
            uuid: string;
            startAt: string;
            totalCount: number;
            completedCount: number;
        }[];
    };
}
```

成功 200

```json

```



### 导入记录删除

**接口URL：** `/post-control/import-data/id/:id`  
**调用方式：** DELETE

Param 参数

```ts
type PostControlDeleteImportDataParamType = {
    id: string;
}
```



**示例（curl）**

```sh
curl -X GET \
  http://127.0.0.1:3000/example \
  -H 'Authorization: Bearer xxx'
```

返回响应

```ts
const data: {
    id: string;
    platform: string;
    platformPostId: string;
    link: string;
    importedAt: Date;
    postId: string;
}
```

成功 200

```json

```



### 多余的导入记录删除

**接口URL：** `/post-control/import-data/excess`  
**调用方式：** DELETE

Param 参数

```ts

```



**示例（curl）**

```sh
curl -X GET \
  http://127.0.0.1:3000/example \
  -H 'Authorization: Bearer xxx'
```

返回响应

```ts
const data: {
    count: number;
}
```

成功 200

```json

```









### 【example】

**接口URL：** `/example`  
**调用方式：** GET

Param 参数

```ts

```

Query 参数

```ts

```

Body 参数 （multipart/form-data）（application/json）

```ts

```



**示例（curl）**

```sh
curl -X GET \
  http://127.0.0.1:3000/example \
  -H 'Authorization: Bearer xxx'
```

返回响应

```ts
const data: {

}
```

成功 200

```json

```



